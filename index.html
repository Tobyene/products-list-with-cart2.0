<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desserts Menu</title>
    <link rel="stylesheet" href="style.css"> <!-- Link para o arquivo CSS -->
</head>
<body>

    <div class="container">
        <!-- Menu Section -->
        <div class="menu">
            <div class="menu-item">
                <img src="assets/images/image-waffle-desktop.jpg" alt="Waffle with Berries">
                <h3>Waffle with Berries</h3>
                <p>$6.50</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-creme-brulee-desktop.jpg" alt="Vanilla Bean Crème Brûlée">
                <h3>Vanilla Bean Crème Brûlée</h3>
                <p>$7.00</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-macaron-desktop.jpg" alt="Macaron Mix of Five">
                <h3>Macaron Mix of Five</h3>
                <p>$8.00</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-baklava-desktop.jpg" alt="Baklava">
                <h3>Pistachio Baklava</h3>
                <p>$4.00</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-meringue-desktop.jpg" alt="Lemon Meringue Pie">
                <h3>Lemon Meringue Pie</h3>
                <p>$5.00</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-tiramisu-desktop.jpg" alt="Classic Tiramisu">
                <h3>Classic Tiramisu</h3>
                <p>$5.50</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-panna-cotta-desktop.jpg" alt="Panna Cotta">
                <h3>Panna Cotta</h3>
                <p>$6.50</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-brownie-desktop.jpg" alt="Fancy Brownie">
                <h3>Fancy Brownie</h3>
                <p>$6.50</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
            <div class="menu-item">
                <img src="assets/images/image-cake-desktop.jpg" alt="Strawberry Cake">
                <h3>Strawberry Cake</h3>
                <p>$9.00</p>
                <button class="add-to-cart">Add to Cart</button>
            </div>
        </div>

        <!-- Cart Section -->
        <div class="cart">
            <h2>Your Cart (<span id="cart-count">0</span>)</h2>
            <div id="cart-items">
                <!-- Cart items will be dynamically inserted here -->
            </div>
            <p class="cart-total">Order Total: $<span id="cart-total">00.00</span></p>
            <p class="delivery-info">This is a <strong>carbon-neutral</strong> delivery</p>
            <button class="confirm-order" onclick="confirmOrder()">Confirm Order</button>
        </div>
    </div>

  <!-- Modal for Order Confirmation -->
<!-- Modal for Order Confirmation -->
<div id="order-confirmation-modal">
    <div class="modal-content">
        <img src="assets/images/icon-order-confirmed.svg" alt="Confirmation Icon" style="width: 50px; height: 50px; margin-bottom: 15px;">
        <h2>Order Confirmed</h2>
        <p>Thank you for your purchase!</p>
        <div id="order-summary"></div>
        <p class="order-total">Order Total: $<span id="total-amount">0.00</span></p>
        <button class="start-new-order" onclick="startNewOrder()">Start New Order</button>
    </div>
</div>



    <script>
        // Shopping cart logic
        class Product {
            constructor(imageUrl, category, productName, price) {
                this.imageUrl = imageUrl;
                this.category = category;
                this.productName = productName;
                this.price = price;
                this.quantity = 1; // Adding quantity property
            }

            getPrice() {
                return this.price * this.quantity; // Multiply price by quantity
            }

            getProductName() {
                return this.productName;
            }

            increaseQuantity() {
                this.quantity++;
            }

            decreaseQuantity() {
                if (this.quantity > 1) {
                    this.quantity--;
                }
            }

            getQuantity() {
                return this.quantity;
            }
        }

        class ShoppingCart {
            constructor() {
                this.items = [];
                this.total = 0;
            }

            addToCart(product) {
                const existingProduct = this.items.find(item => item.getProductName() === product.getProductName());
                if (existingProduct) {
                    existingProduct.increaseQuantity();
                } else {
                    this.items.push(product);
                }
                this.total += product.getPrice();
                updateCartUI();
            }

            removeFromCart(productName) {
                const productIndex = this.items.findIndex(item => item.getProductName() === productName);
                if (productIndex !== -1) {
                    this.total -= this.items[productIndex].getPrice();
                    this.items.splice(productIndex, 1); // Remove item
                    updateCartUI();
                }
            }

            getCartItems() {
                return this.items;
            }

            getTotal() {
                this.total = this.items.reduce((total, item) => total + item.getPrice(), 0);
                return this.total;
            }
        }

        const cart = new ShoppingCart();

        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', (event) => {
                const productElement = event.target.closest('.menu-item');
                const productName = productElement.querySelector('h3').innerText;
                const productPrice = parseFloat(productElement.querySelector('p').innerText.replace('$', ''));
                const productImage = productElement.querySelector('img').src;

                const newProduct = new Product(productImage, 'Dessert', productName, productPrice);
                cart.addToCart(newProduct);
            });
        });

        function updateCartUI() {
            const cartItemsContainer = document.getElementById('cart-items');
            const cartCount = document.getElementById('cart-count');
            const cartTotal = document.getElementById('cart-total');

            cartItemsContainer.innerHTML = ''; // Clear cart for update

            cart.getCartItems().forEach(item => {
                const cartItemDiv = document.createElement('div');
                cartItemDiv.classList.add('cart-item');
                cartItemDiv.innerHTML = `<p>${item.getProductName()} (x${item.getQuantity()})</p>
                <p>$${item.getPrice().toFixed(2)}</p>
                <button class="remove-item" onclick="removeItem('${item.getProductName()}')">Remove</button>`;
                cartItemsContainer.appendChild(cartItemDiv);
            });

            cartCount.innerText = cart.getCartItems().length;
            cartTotal.innerText = cart.getTotal().toFixed(2);
        }

        function removeItem(productName) {
            cart.removeFromCart(productName);
        }

        function confirmOrder() {
    if (cart.getCartItems().length === 0) {
        alert('Your cart is empty. Please add some items.');
        return;
    }

    const orderSummary = document.getElementById('order-summary');
    orderSummary.innerHTML = ''; // Limpa o resumo anterior

    cart.getCartItems().forEach(item => {
        const cartItemDiv = document.createElement('div');
        cartItemDiv.classList.add('order-item');
        cartItemDiv.innerHTML = `
            <img src="${item.imageUrl}" alt="${item.getProductName()}" style="width: 40px; height: 40px; margin-right: 10px;">
            <span>${item.getProductName()} (x${item.getQuantity()}) - $${item.getPrice().toFixed(2)}</span>
        `;
        orderSummary.appendChild(cartItemDiv);
    });

    document.getElementById('total-amount').innerText = cart.getTotal().toFixed(2);
    document.getElementById('order-confirmation-modal').style.display = 'flex';
}
function startNewOrder() {
    closeModal(); // Fecha o modal primeiro
    cart.items = []; // Limpa os itens do carrinho
    cart.total = 0; // Reseta o total
    updateCartUI(); // Atualiza a interface do carrinho
    document.getElementById('menu').scrollIntoView({ behavior: 'smooth' }); // Rola para a seção do cardápio
}
function closeModal() {
    document.getElementById('order-confirmation-modal').style.display = 'none';
}

    </script>

</body>
</html>
